:host {
  --gold: #d4af37;
  --gold-2: #f3d98b;
  --gold-3: #e7c65a;
  --platinum: #e5e4e2;
  --bg: #0e0e0e;
  --panel: #141414;
  --panel-2: #1a1a1a;
  --panel-3: #202020;
  --muted: #cfcfcf;
  --success: #22c55e;
  --warning: #f59e0b;
  --danger: #ef4444;
}

.fondo {
  min-height: 100vh;
  padding-bottom: 2rem;
  background: rgba(26, 26, 26, .8);
}

.user-dashboard {
  max-width: 980px;
  margin: 0 auto;
  padding: 2rem 1rem;
  color: #f5f5f5;
  animation: fadeInUp 0.6s ease-out;
}

/* =================== ANIMACIONES =================== */
@keyframes fadeInUp {
  from {
    opacity: 0;
    transform: translateY(30px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes pulse {
  0%, 100% {
    transform: scale(1);
  }
  50% {
    transform: scale(1.05);
  }
}

@keyframes shimmer {
  0% {
    background-position: -200% center;
  }
  100% {
    background-position: 200% center;
  }
}

/* =================== RESUMEN MEJORADO =================== */
.resumen-puntos {
  background: var(--panel);
  color: #fff;
  border-radius: 20px;
  padding: 2rem 1.5rem;
  margin-bottom: 2rem;
  box-shadow: 0 12px 40px rgba(0,0,0,.4), inset 0 0 0 1px rgba(212,175,55,.15);
  position: relative;
  overflow: hidden;

  /* halo dorado mejorado */
  &::before {
    content: "";
    position: absolute;
    inset: 0;
    background: radial-gradient(1200px 160px at 50% -50px, rgba(212,175,55,.2), transparent 70%);
    pointer-events: none;
    z-index: 1;
  }

  /* Contenido sobre el halo */
  > * {
    position: relative;
    z-index: 2;
  }

  .puntos-header {
    display: flex;
    justify-content: space-between;
    align-items: flex-start;
    flex-wrap: wrap;
    gap: 1.5rem;
    margin-bottom: 1.5rem;

    .saludo-usuario {
      text-align: left;
      
      h2 {
        margin: 0 0 0.3rem;
        font-size: 1.3rem;
        font-weight: 500;
        color: var(--muted);
        letter-spacing: .2px;
      }

      h1 {
        margin: 0;
        font-size: 2.5rem;
        font-weight: 800;
        color: var(--gold);
        letter-spacing: .5px;
        text-shadow: 0 2px 8px rgba(212,175,55,.3);
      }
    }

    .puntos-display {
      text-align: right;

      .puntos-valor {
        display: flex;
        flex-direction: column;
        align-items: flex-end;

        small {
          color: var(--muted);
          font-size: 0.9rem;
          margin-bottom: 0.3rem;
          font-weight: 500;
        }

        .numero-puntos {
          font-size: 2.2rem;
          color: var(--gold-2);
          font-weight: 900;
          text-shadow: 0 2px 8px rgba(243,217,139,.4);
          animation: pulse 2s infinite;
        }
      }
    }
  }

  .estado-vip {
    text-align: center;
  }

  .categoria-vip {
    margin: 1rem 0;
    display: flex;
    justify-content: center;
    align-items: center;
    gap: 1rem;
    flex-wrap: wrap;

    .nivel-texto {
      font-size: 1.1rem;
      color: var(--muted);
      font-weight: 500;
    }

    .nivel-badge {
      display: inline-flex;
      align-items: center;
      gap: .5rem;
      font-weight: 700;
      color: #000;
      padding: .4rem .8rem;
      border-radius: 999px;
      background: linear-gradient(135deg, var(--gold-3) 0%, var(--gold) 50%, #caa43a 100%);
      box-shadow: 0 6px 20px rgba(212,175,55,.4);
      transition: all 0.3s ease;

      &:hover {
        transform: translateY(-2px);
        box-shadow: 0 8px 25px rgba(212,175,55,.5);
      }

      ion-icon {
        color: #000;
        font-size: 1.2rem;
      }
    }
  }

  .progreso-categoria {
    margin-top: 1.5rem;

    .progreso-info {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 0.5rem;

      .progreso-label {
        color: var(--muted);
        font-size: 0.95rem;
        font-weight: 500;
      }

      .progreso-numeros {
        color: var(--gold-2);
        font-weight: 600;
        font-size: 0.9rem;
      }
    }

    progress {
      width: 100%;
      height: 14px;
      border: 0;
      border-radius: 999px;
      background: #2a2a2a;
      overflow: hidden;
      box-shadow: inset 0 2px 4px rgba(0,0,0,.3);
    }

    /* WebKit */
    progress::-webkit-progress-bar {
      background: #2a2a2a;
      border-radius: 999px;
    }
    
    progress::-webkit-progress-value {
      background: linear-gradient(90deg, var(--gold) 0%, var(--gold-2) 100%);
      border-radius: 999px;
      box-shadow: 0 0 10px rgba(212,175,55,.5);
    }
    
    /* Firefox */
    progress::-moz-progress-bar {
      background: linear-gradient(90deg, var(--gold) 0%, var(--gold-2) 100%);
      border-radius: 999px;
      box-shadow: 0 0 10px rgba(212,175,55,.5);
    }

    small {
      display: block;
      color: #bdbdbd;
      margin-top: .6rem;
      font-size: 0.9rem;
      line-height: 1.4;

      strong {
        color: var(--gold-2);
        font-weight: 700;
      }
    }
  }
}

/* separador dorado mejorado */
.hr-gold {
  height: 1px;
  margin: 20px 0;
  background: linear-gradient(90deg, rgba(212,175,55,0) 0%, rgba(212,175,55,.8) 50%, rgba(212,175,55,0) 100%);
  position: relative;

  &::after {
    content: "";
    position: absolute;
    top: -2px;
    left: 50%;
    transform: translateX(-50%);
    width: 6px;
    height: 6px;
    background: var(--gold);
    border-radius: 50%;
    box-shadow: 0 0 8px var(--gold);
  }
}

/* =================== ACCIÓN PRINCIPAL =================== */
.accion-principal {
  margin-bottom: 2rem;
  text-align: center;

  ion-button {
    --padding-start: 2rem;
    --padding-end: 2rem;
    --padding-top: 1rem;
    --padding-bottom: 1rem;
    margin: 0;
    font-size: 1.1rem;
    transition: all 0.3s ease;

    &:hover {
      transform: translateY(-3px);
      --box-shadow: 0 15px 35px rgba(212,175,55,.45);
    }

    &:active {
      transform: translateY(-1px);
    }
  }
}

/* =================== CATÁLOGO MEJORADO =================== */
.catalogo-premios {
  margin-bottom: 3rem;

  .seccion-header {
    margin-bottom: 2rem;
    text-align: center;

    .titulo-seccion {
      color: var(--gold);
      margin: 0 0 0.5rem 0;
      font-size: 1.8rem;
      font-weight: 700;
      letter-spacing: .4px;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 0.5rem;

      ion-icon {
        font-size: 1.6rem;
      }
    }

    .subtitulo-seccion {
      color: var(--muted);
      font-size: 1rem;
      margin: 0;
      opacity: 0.9;
    }
  }

  .premios-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: 1.5rem;
  }

  .premio-card {
    background: var(--panel-2);
    border-radius: 18px;
    box-shadow: 0 4px 20px rgba(0,0,0,.3), inset 0 0 0 1px rgba(212,175,55,.1);
    overflow: hidden;
    transition: all .3s ease;
    position: relative;

    &:hover {
      transform: translateY(-8px) scale(1.02);
      box-shadow: 0 20px 40px rgba(0,0,0,.4), 0 0 0 1px rgba(212,175,55,.3) inset;

      .premio-overlay {
        opacity: 1;
      }
    }

    /* Badges */
    .premio-badge {
      position: absolute;
      top: 12px;
      right: 12px;
      z-index: 3;
      padding: .3rem .6rem;
      border-radius: 999px;
      font-size: 0.75rem;
      font-weight: 700;
      text-transform: uppercase;
      letter-spacing: .5px;

      &:not(.exclusivo) {
        background: linear-gradient(135deg, var(--warning), #f97316);
        color: white;
        box-shadow: 0 4px 12px rgba(245,158,11,.4);
      }

      &.exclusivo {
        background: linear-gradient(135deg, var(--platinum), #d6d3d1);
        color: #000;
        box-shadow: 0 4px 12px rgba(229,228,226,.4);
      }
    }

    .premio-imagen {
      position: relative;
      height: 160px;
      overflow: hidden;

      img {
        width: 100%;
        height: 100%;
        object-fit: cover;
        transition: transform 0.3s ease;
      }

      .premio-overlay {
        position: absolute;
        inset: 0;
        background: linear-gradient(135deg, rgba(212,175,55,.85), rgba(243,217,139,.85));
        display: flex;
        align-items: center;
        justify-content: center;
        opacity: 0;
        transition: opacity 0.3s ease;

        ion-icon {
          font-size: 3rem;
          color: white;
          filter: drop-shadow(0 4px 8px rgba(0,0,0,.3));
        }
      }
    }

    .premio-contenido {
      padding: 1.2rem;

      h4 {
        margin: 0 0 0.4rem 0;
        font-weight: 700;
        color: #fff;
        letter-spacing: .3px;
        font-size: 1.1rem;
      }

      .premio-descripcion {
        color: #b0b0b0;
        font-size: 0.9rem;
        margin: 0 0 1rem 0;
        line-height: 1.4;
      }

      .premio-footer {
        display: flex;
        justify-content: space-between;
        align-items: center;

        .precio-puntos {
          display: flex;
          align-items: center;
          gap: 0.4rem;
          color: var(--gold-2);
          font-weight: 700;
          font-size: 1.1rem;

          ion-icon {
            font-size: 1rem;
            color: var(--gold);
          }
        }

        .btn-canjear {
          --color: var(--gold);
          --border-color: var(--gold);
          --color-hover: #ffffff;
          --background-hover: var(--gold);
          --border-radius: 12px;
          font-weight: 600;
          transition: all 0.2s ease;
        }
      }
    }

    /* Variantes de cards */
    &.premium {
      border: 1px solid rgba(212,175,55,.3);
    }

    &.destacado {
      background: linear-gradient(135deg, var(--panel-2) 0%, #1f1f1f 100%);
      border: 1px solid rgba(245,158,11,.3);
    }

    &.exclusivo {
      background: linear-gradient(135deg, var(--panel-2) 0%, #252525 100%);
      border: 1px solid rgba(229,228,226,.2);
    }
  }
}

/* =================== BENEFICIOS MEJORADOS =================== */
.beneficios-vip {
  background: var(--panel);
  border-radius: 20px;
  padding: 2rem;
  color: #fff;
  box-shadow: 0 8px 32px rgba(0,0,0,.3), inset 0 0 0 1px rgba(212,175,55,.12);
  position: relative;
  overflow: hidden;

  &::before {
    content: "";
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 1px;
    background: linear-gradient(90deg, transparent, var(--gold), transparent);
  }

  .beneficios-header {
    text-align: center;
    margin-bottom: 2rem;

    h3 {
      color: var(--gold);
      margin: 0 0 0.5rem 0;
      font-size: 1.5rem;
      font-weight: 700;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 0.5rem;

      ion-icon {
        font-size: 1.4rem;
      }
    }

    .beneficios-descripcion {
      color: var(--muted);
      margin: 0;
      font-size: 1rem;
      opacity: 0.9;
    }
  }

  .beneficios-lista {
    display: grid;
    gap: 1rem;
    margin-bottom: 2rem;
  }

  .beneficio-item {
    display: flex;
    align-items: flex-start;
    gap: 1rem;
    padding: 1rem;
    background: rgba(255,255,255,.02);
    border-radius: 12px;
    border: 1px solid rgba(255,255,255,.05);
    transition: all 0.3s ease;

    &:hover {
      background: rgba(212,175,55,.05);
      border-color: rgba(212,175,55,.2);
      transform: translateX(5px);
    }

    .beneficio-icono {
      flex-shrink: 0;
      width: 45px;
      height: 45px;
      border-radius: 12px;
      background: linear-gradient(135deg, var(--gold) 0%, var(--gold-2) 100%);
      display: flex;
      align-items: center;
      justify-content: center;
      box-shadow: 0 4px 12px rgba(212,175,55,.3);

      ion-icon {
        font-size: 1.3rem;
        color: #000;
      }
    }

    .beneficio-texto {
      flex: 1;

      h4 {
        margin: 0 0 0.3rem 0;
        font-weight: 600;
        color: #fff;
        font-size: 1rem;
      }

      p {
        margin: 0;
        color: #b8b8b8;
        font-size: 0.9rem;
        line-height: 1.4;
      }
    }
  }

  .upgrade-platinum {
    background: linear-gradient(135deg, rgba(229,228,226,.1), rgba(229,228,226,.05));
    border: 1px solid rgba(229,228,226,.2);
    border-radius: 16px;
    padding: 1.5rem;
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: 1rem;
    flex-wrap: wrap;

    .upgrade-contenido {
      h4 {
        margin: 0 0 0.3rem 0;
        color: var(--platinum);
        font-weight: 600;
        font-size: 1.1rem;
      }

      p {
        margin: 0;
        color: #b8b8b8;
        font-size: 0.9rem;
      }
    }

    .btn-upgrade {
      --color: var(--platinum);
      --border-color: var(--platinum);
      --color-hover: #ead060;
      --background-hover: var(--platinum);
      --border-radius: 12px;
      font-weight: 600;
      flex-shrink: 0;
    }
  }
}

/* =================== BOTONES MEJORADOS =================== */
ion-button.btn-gold {
  --background: linear-gradient(135deg, var(--gold-3) 0%, var(--gold) 50%, #caa43a 100%);
  --background-hover: linear-gradient(135deg, #ead060 0%, #e6c96a 50%, #d4af37 100%);
  --background-activated: linear-gradient(135deg, #bf9d30 0%, #b8942b 50%, #a68628 100%);
  --color: #000;
  --border-radius: 14px;
  --box-shadow: 0 10px 26px rgba(212,175,55,.35);
  font-weight: 700;
  letter-spacing: .3px;
  position: relative;
  overflow: hidden;

  &::before {
    content: "";
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(90deg, transparent, rgba(255,255,255,.2), transparent);
    transition: left 0.5s ease;
  }

  &:hover::before {
    left: 100%;
  }
}

/* =================== RESPONSIVE MEJORADO =================== */
@media (max-width: 768px) {
  .user-dashboard { 
    padding: 1.5rem 1rem; 
  }

  .resumen-puntos {
    padding: 1.5rem 1rem;

    .puntos-header {
      flex-direction: column;
      align-items: center;
      text-align: center;
      gap: 1rem;

      .saludo-usuario, .puntos-display {
        text-align: center;

        .puntos-valor {
          align-items: center;
        }
      }
    }

    .categoria-vip {
      flex-direction: column;
      gap: 0.5rem;
    }
  }

  .catalogo-premios .premios-grid { 
    grid-template-columns: 1fr;
    gap: 1rem;
  }

  .beneficios-vip { 
    padding: 1.5rem 1rem;

    .upgrade-platinum {
      flex-direction: column;
      text-align: center;
    }
  }

  .beneficio-item {
    flex-direction: column;
    text-align: center;
    align-items: center !important;
  }
}

@media (max-width: 480px) {
  .user-dashboard { 
    padding: 1rem 0.5rem; 
  }

  .resumen-puntos {
    .puntos-header {
      .saludo-usuario h1 {
        font-size: 2rem;
      }

      .puntos-valor .numero-puntos {
        font-size: 1.8rem;
      }
    }
  }

  .catalogo-premios .seccion-header .titulo-seccion {
    font-size: 1.5rem;
    flex-direction: column;
    gap: 0.3rem;
  }
}

/* Estado PRÓXIMAMENTE para las cards */
.premio-card.coming-soon {
  position: relative;
  pointer-events: none;        /* evita clics en la card */
  transform: none !important;  /* sin efecto hover */
  box-shadow: 0 4px 20px rgba(0,0,0,.25), inset 0 0 0 1px rgba(255,255,255,.06);

  /* velo por encima */
  &::after {
    content: "";
    position: absolute;
    inset: 0;
    background: rgba(0,0,0,.55);
    backdrop-filter: blur(2px);
    border-radius: inherit;
    z-index: 2;
  }

  /* etiqueta centrada */
  .mask-soon {
    position: absolute;
    inset: 0;
    z-index: 3;
    display: flex;
    align-items: center;
    justify-content: center;

    .pill {
      display: inline-flex;
      align-items: center;
      gap: .5rem;
      padding: .55rem 1rem;
      border-radius: 999px;
      font-weight: 800;
      letter-spacing: .6px;
      color: #000;
      background: linear-gradient(135deg, var(--platinum), var(--gold));
      box-shadow: 0 8px 24px rgb(0, 0, 0);
      text-transform: uppercase;
    }

    ion-icon {
      color: #000;
      font-size: 1.1rem;
    }
  }

  /* atenúa imagen y contenido */
  .premio-imagen img { filter: grayscale(1) brightness(.75); }
  .premio-overlay { opacity: 0 !important; } /* oculta overlay normal */
  .btn-canjear { opacity: .6; filter: grayscale(1); }
}


/* ===== MÁSCARA ESTÉTICA "PRÓXIMAMENTE" ===== */
.premio-card {
  position: relative;
  overflow: hidden;
}

/* capa visual (no bloquea interacción) */
.premio-card .mask-soon {
  position: absolute;
  inset: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  /* tinte dorado muy sutil, sin volver gris la card */
  background:
    linear-gradient(135deg, rgba(212,175,55,.10), rgba(243,217,139,.10));
  backdrop-filter: blur(1.5px);
  -webkit-backdrop-filter: blur(1.5px);
  opacity: 0;
  transition: opacity .25s ease, transform .25s ease;
  pointer-events: none; /* << no bloquea clicks */
}

/* pill centrado */
.premio-card .mask-soon .pill {
  display: inline-flex;
  align-items: center;
  gap: .4rem;
  padding: .4rem .7rem;
  border-radius: 999px;
  font-weight: 800;
  font-size: .75rem;
  letter-spacing: .6px;
  text-transform: uppercase;
  color: var(--gold-2, #f3d98b);
  background: rgba(0,0,0,.55);
  border: 1px solid rgba(212,175,55,.55);
  box-shadow: 0 8px 24px rgba(0, 0, 0, 0.25);
}

.premio-card .mask-soon .pill ion-icon {
  font-size: 1rem;
}

/* mostrar siempre que la card tenga la clase coming-soon */
.premio-card.coming-soon .mask-soon {
  opacity: 1;
}

/* pequeño realce dorado en imagen (sin “apagarla”) */
.premio-card.coming-soon .premio-imagen img {
  transform: scale(1.01);
  filter: saturate(1.05) brightness(0.98);
  transition: transform .25s ease, filter .25s ease;
}

/* rayitas diagonales muy sutiles para dar “textura” (opcional) */
.premio-card.coming-soon::after {
  content: "";
  position: absolute;
  inset: 0;
  background:
    repeating-linear-gradient(
      135deg,
      rgba(212,175,55,.06) 0,
      rgba(212,175,55,.06) 8px,
      transparent 8px,
      transparent 16px
    );
  pointer-events: none;
}


/* ===================  BENEFICIOS VIP =================== */


/* ===== Máscara “PRÓXIMAMENTE” para secciones ===== */
.beneficios-vip.coming-soon {
  position: relative;
  isolation: isolate; /* asegura que el overlay se apile bien */
}

.beneficios-vip.coming-soon .mask-soon {
  position: absolute;
  inset: 0;
  border-radius: inherit;
  z-index: 5;
  display: flex;
  align-items: center;
  justify-content: center;

  /* capa dorada suave (no gris) */
  background:
    radial-gradient(1200px 220px at 50% -60px, rgba(212,175,55,.12), transparent 70%),
    linear-gradient(135deg, rgba(212,175,55,.10), rgba(243,217,139,.10));
  backdrop-filter: blur(3px);
  pointer-events: none; /* estético: no bloquea la interacción general */
}

/* Pastilla central “PRÓXIMAMENTE” */
.beneficios-vip.coming-soon .mask-soon .pill {
  display: inline-flex;
  align-items: center;
  gap: .5rem;
  padding: .55rem 1rem;
  border-radius: 999px;
  font-weight: 800;
  letter-spacing: .5px;
  text-transform: uppercase;
  background: linear-gradient(135deg, var(--gold-3), var(--gold));
  color: #000;
  box-shadow:
    0 10px 30px rgba(212,175,55,.35),
    inset 0 0 0 1px rgba(0,0,0,.08);
}

.beneficios-vip.coming-soon .mask-soon ion-icon {
  font-size: 1.1rem;
  color: #000;
}

.beneficios-vip.coming-soon::after {
  content: "";
  position: absolute;
  inset: 0;
  background:
    repeating-linear-gradient(
      135deg,
      rgba(212,175,55,.06) 0,
      rgba(212,175,55,.06) 8px,
      transparent 8px,
      transparent 16px
    );
  pointer-events: none;
}

/* Si quieres bloquear clics dentro de la sección, descomenta:
.beneficios-vip.coming-soon { pointer-events: none; }
.beneficios-vip.coming-soon .mask-soon { pointer-events: auto; }
*/
