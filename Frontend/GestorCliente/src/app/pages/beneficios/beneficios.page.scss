:host {
  --gold: #d4af37;
  --gold-light: #f3d98b;
  --ink: #f5f5f5;
  --muted: #cfcfcf;
  --bg-0: #0a0a0a;
  --bg-1: #141414;
  --bg-2: #1a1a1a;
  --stroke: rgba(255, 255, 255, 0.08);
}

/* ===== Layout general ===== */
.fondo {
  min-height: 100vh;
  --background: none !important;
  background: radial-gradient(1200px 600px at 80% 0%, var(--bg-1) 0%, var(--bg-0) 60%);
  color: var(--ink);
  padding: 1rem;
}

/* ===== CATÁLOGO DE BENEFICIOS ===== */
.catalogo-beneficios {
  max-width: 1200px;
  margin: 0 auto;
  background: var(--bg-2);
  border-radius: 12px;
  overflow: hidden;
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
  border: 1px solid rgba(212, 175, 55, 0.1);
}

/* ===== HEADER CON FILTROS ===== */
.catalogo-header {
  background: linear-gradient(135deg, var(--bg-1) 0%, var(--bg-2) 100%);
  padding: 24px;
  border-bottom: 2px solid var(--gold);
  display: flex;
  justify-content: space-between;
  align-items: center;
  gap: 24px;

  .header-left {
    display: flex;
    align-items: center;
    gap: 16px;

    .trophy-icon {
      background: var(--gold);
      border-radius: 50%;
      width: 48px;
      height: 48px;
      display: flex;
      align-items: center;
      justify-content: center;
      box-shadow: 0 4px 12px rgba(212, 175, 55, 0.3);

      ion-icon {
        font-size: 24px;
        color: #000;
      }
    }

    .header-text {
      h2 {
        margin: 0 0 4px 0;
        font-size: 24px;
        font-weight: 700;
        color: var(--gold);
        text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
      }

      p {
        margin: 0 0 8px 0;
        color: var(--ink);
        font-size: 14px;
        opacity: 0.8;
      }

      // ✅ Información del nivel del usuario
      .user-level-info {
        display: flex;
        align-items: center;
        gap: 12px;
        flex-wrap: wrap;

        .level-chip {
          --background: rgba(212, 175, 55, 0.2);
          --color: var(--gold);
          font-size: 12px;
          font-weight: 600;
          height: 28px;

          ion-icon {
            font-size: 14px;
            margin-right: 4px;
          }
        }

        .level-description {
          color: rgba(255, 255, 255, 0.7);
          font-size: 11px;
          font-style: italic;
        }
      }
    }
  }

  /* ===== FILTROS DE NIVEL ===== */
  .nivel-filters {
    display: flex;
    gap: 8px;
    flex-wrap: wrap;

    .nivel-btn {
      padding: 8px 16px;
      border: none;
      border-radius: 6px;
      font-size: 12px;
      font-weight: 700;
      text-transform: uppercase;
      letter-spacing: 0.5px;
      cursor: pointer;
      transition: all 0.3s ease;
      position: relative;
      overflow: hidden;

      &::before {
        content: '';
        position: absolute;
        top: 0;
        left: -100%;
        width: 100%;
        height: 100%;
        background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
        transition: left 0.5s;
      }

      &:hover::before {
        left: 100%;
      }

      // Estilos específicos por nivel
      &.nivel-1 { // SILVER
        background: #c0c0c0;
        color: #000;
        
        &.active {
          background: var(--gold);
          color: #000;
          box-shadow: 0 4px 12px rgba(212, 175, 55, 0.4);
        }
      }

      &.nivel-2 { // GOLD
        background: var(--gold);
        color: #000;
        
        &.active {
          background: #ffd700;
          box-shadow: 0 4px 12px rgba(255, 215, 0, 0.4);
        }
      }

      &.nivel-3 { // BLACK
        background: #333;
        color: #fff;
        
        &.active {
          background: #000;
          box-shadow: 0 4px 12px rgba(0, 0, 0, 0.6);
        }
      }

      &.nivel-4 { // PLATINUM
        background: #e5e5e5;
        color: #000;
        
        &.active {
          background: #f0f0f0;
          box-shadow: 0 4px 12px rgba(240, 240, 240, 0.4);
        }
      }

      &.nivel-5 { // DIAMOND
        background: #b9f2ff;
        color: #000;
        
        &.active {
          background: #87ceeb;
          box-shadow: 0 4px 12px rgba(135, 206, 235, 0.4);
        }
      }

       &:hover {
         transform: translateY(-2px);
         box-shadow: 0 6px 20px rgba(0, 0, 0, 0.2);
       }

       // ✅ Botones bloqueados
       &.disabled {
         opacity: 0.6;
         cursor: not-allowed;
         
         .lock-icon {
           margin-left: 4px;
           font-size: 10px;
         }

         &:hover {
           transform: none;
           box-shadow: none;
         }
       }
     }
   }
 }

/* ===== TABLA DE BENEFICIOS ===== */
.tabla-wrap {
  overflow-x: auto;
}

.beneficios-table {
  width: 100%;
  border-collapse: collapse;
  background: var(--bg-0);

  thead {
    background: linear-gradient(135deg, var(--bg-1) 0%, var(--bg-2) 100%);
    
    th {
      padding: 16px 20px;
      text-align: left;
      font-size: 14px;
      font-weight: 700;
      color: var(--ink);
      text-transform: uppercase;
      letter-spacing: 1px;
      border-bottom: 2px solid var(--gold);
      white-space: nowrap;
    }
  }

  tbody {
    tr {
      border-bottom: 1px solid rgba(255, 255, 255, 0.05);
      transition: background-color 0.2s ease;

      &:hover {
        background: rgba(212, 175, 55, 0.05);
      }

      td {
        padding: 16px 20px;
        vertical-align: middle;
        color: var(--ink);
      }

       // Fila de información del nivel
       &.nivel-info-row {
         background: rgba(212, 175, 55, 0.08);
         
         .nivel-description {
           .nivel-text {
             font-style: italic;
             color: rgba(255, 255, 255, 0.7);
             font-size: 13px;
           }

           .nivel-bloqueado {
             display: block;
             margin-top: 4px;
             font-size: 11px;
             color: rgba(255, 255, 255, 0.5);
             font-style: italic;
           }
         }

         // ✅ Nivel bloqueado
         &.nivel-no-disponible {
           background: rgba(255, 0, 0, 0.05);
           opacity: 0.7;
         }
       }

      // Fila de beneficio
      &.beneficio-row {
        .beneficio-nombre {
          font-weight: 600;
          font-size: 15px;
        }

        .beneficio-descripcion {
          color: rgba(255, 255, 255, 0.8);
          font-size: 14px;
          line-height: 1.4;
        }

         .beneficio-estado {
           .estado-disponible {
             background: rgba(76, 175, 80, 0.2);
             color: #4caf50;
             padding: 4px 8px;
             border-radius: 12px;
             font-size: 11px;
             font-weight: 600;
             text-transform: uppercase;
             letter-spacing: 0.5px;
           }

            .estado-proximamente {
              background: linear-gradient(135deg, rgba(255, 193, 7, 0.25), rgba(255, 152, 0, 0.25));
              color: #ffc107;
              padding: 6px 12px;
              border-radius: 15px;
              font-size: 11px;
              font-weight: 700;
              text-transform: uppercase;
              letter-spacing: 0.6px;
              border: 1px solid rgba(255, 193, 7, 0.4);
              display: inline-block;
              text-align: center;
              white-space: nowrap;
              box-shadow: 
                0 2px 8px rgba(255, 193, 7, 0.2),
                inset 0 1px 0 rgba(255, 255, 255, 0.2);
            }

            .estado-no-disponible {
              background: rgba(244, 67, 54, 0.2);
              color: #f44336;
              padding: 4px 8px;
              border-radius: 12px;
              font-size: 11px;
              font-weight: 600;
              text-transform: uppercase;
              letter-spacing: 0.5px;
            }

           .estado-canjeado {
             background: rgba(255, 152, 0, 0.2);
             color: #ff9800;
             padding: 4px 8px;
             border-radius: 12px;
             font-size: 11px;
             font-weight: 600;
             text-transform: uppercase;
             letter-spacing: 0.5px;
             display: flex;
             flex-direction: column;
             align-items: center;
             gap: 2px;

             .cooldown-info {
               font-size: 9px;
               font-weight: 400;
               text-transform: lowercase;
               opacity: 0.8;
             }
           }
         }

        .beneficio-accion {
          .btn-canjear {
            background: linear-gradient(135deg, var(--gold) 0%, #ffd700 100%);
            color: #000;
            border: none;
            padding: 10px 16px;
            border-radius: 8px;
            font-size: 12px;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 6px;
            transition: all 0.3s ease;
            box-shadow: 0 2px 8px rgba(212, 175, 55, 0.3);

            ion-icon {
              font-size: 14px;
            }

            &:hover {
              transform: translateY(-2px);
              box-shadow: 0 4px 16px rgba(212, 175, 55, 0.4);
              background: linear-gradient(135deg, #ffd700 0%, var(--gold) 100%);
            }

             &:active {
               transform: translateY(0);
             }
           }

            // ✅ Botón próximo (diseño elegante)
            .btn-proximo-overlay {
              position: relative;
              display: flex;
              align-items: center;
              justify-content: center;
              width: 100%;
              
              .proximo-pill {
                background: linear-gradient(135deg, #ffc107 0%, #ff9800 100%);
                color: #000;
                padding: 10px 20px;
                border-radius: 25px;
                font-size: 12px;
                font-weight: 800;
                text-transform: uppercase;
                letter-spacing: 0.8px;
                display: inline-flex;
                align-items: center;
                gap: 6px;
                box-shadow: 
                  0 4px 15px rgba(255, 193, 7, 0.4),
                  0 2px 8px rgba(255, 152, 0, 0.3),
                  inset 0 1px 0 rgba(255, 255, 255, 0.3);
                border: 1px solid rgba(255, 193, 7, 0.6);
                white-space: nowrap;
                transition: all 0.3s ease;
                position: relative;
                overflow: hidden;
                
                &::before {
                  content: '';
                  position: absolute;
                  top: 0;
                  left: -100%;
                  width: 100%;
                  height: 100%;
                  background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
                  transition: left 0.6s ease;
                }
                
                &:hover::before {
                  left: 100%;
                }
                
                ion-icon {
                  font-size: 14px;
                  filter: drop-shadow(0 1px 2px rgba(0, 0, 0, 0.2));
                }
              }
            }

            // ✅ Botón bloqueado
            .btn-bloqueado {
              background: rgba(244, 67, 54, 0.2);
              color: #f44336;
              border: 1px solid rgba(244, 67, 54, 0.3);
              padding: 10px 16px;
              border-radius: 8px;
              font-size: 12px;
              font-weight: 700;
              text-transform: uppercase;
              letter-spacing: 0.5px;
              cursor: not-allowed;
              display: flex;
              align-items: center;
              gap: 6px;
              opacity: 0.7;

              ion-icon {
                font-size: 14px;
              }
            }

           // ✅ Botón canjeado
           .btn-canjeado {
             background: rgba(255, 152, 0, 0.2);
             color: #ff9800;
             border: 1px solid rgba(255, 152, 0, 0.3);
             padding: 10px 16px;
             border-radius: 8px;
             font-size: 12px;
             font-weight: 700;
             text-transform: uppercase;
             letter-spacing: 0.5px;
             cursor: not-allowed;
             display: flex;
             align-items: center;
             gap: 6px;
             opacity: 0.8;

             ion-icon {
               font-size: 14px;
             }
           }
         }

         // ✅ Beneficio bloqueado
         &.beneficio-no-disponible {
           opacity: 0.6;
           background: rgba(255, 0, 0, 0.02);

           .beneficio-nombre,
           .beneficio-descripcion {
             color: rgba(255, 255, 255, 0.5);
           }
         }

         // ✅ Beneficio canjeado
         &.beneficio-canjeado {
           opacity: 0.8;
           background: rgba(255, 152, 0, 0.02);

           .beneficio-nombre,
           .beneficio-descripcion {
             color: rgba(255, 255, 255, 0.7);
           }
         }
       }

      // ✅ Estado vacío cuando no hay beneficios disponibles
      &.no-benefits-row {
        .no-benefits-message {
          text-align: center;
          padding: 48px 20px;

          .empty-state {
            color: rgba(255, 255, 255, 0.6);

            ion-icon {
              font-size: 48px;
              color: rgba(255, 255, 255, 0.3);
              margin-bottom: 16px;
            }

            h4 {
              margin: 0 0 12px 0;
              font-size: 18px;
              font-weight: 600;
              color: var(--ink);
            }

            p {
              margin: 0;
              font-size: 14px;
              line-height: 1.5;
              color: rgba(255, 255, 255, 0.7);

              strong {
                color: var(--gold);
              }
            }
          }
        }
      }
    }
  }
}

/* ===== BADGES DE NIVEL ===== */
.nivel-badge {
  display: inline-block;
  padding: 6px 12px;
  border-radius: 16px;
  font-size: 10px;
  font-weight: 700;
  text-transform: uppercase;
  letter-spacing: 0.5px;
  text-align: center;
  min-width: 60px;

  &.badge-silver {
    background: #c0c0c0;
    color: #000;
  }

  &.badge-gold {
    background: var(--gold);
    color: #000;
  }

  &.badge-black {
    background: #333;
    color: #fff;
  }

  &.badge-platinum {
    background: #e5e5e5;
    color: #000;
  }

  &.badge-diamond {
    background: #b9f2ff;
    color: #000;
  }

  // ✅ Badge bloqueado
  &.badge-disabled {
    opacity: 0.5;
    filter: grayscale(0.5);
  }
}

/* ===== RESPONSIVE ===== */
@media (max-width: 768px) {
  .catalogo-header {
    flex-direction: column;
    gap: 16px;
    text-align: center;

    .nivel-filters {
      justify-content: center;
    }
  }

  .beneficios-table {
    font-size: 12px;
    
    th, td {
      padding: 12px 8px;
    }
  }
}

@media (max-width: 480px) {
  .catalogo-beneficios {
    margin: 0;
    border-radius: 0;
  }

  .nivel-filters {
    flex-direction: column;
    width: 100%;

    .nivel-btn {
      width: 100%;
      margin-bottom: 4px;
    }
  }
}