<ion-content [fullscreen]="true">
  <app-header></app-header>

  <section class="contact-section">
    <!-- Lado izquierdo: formulario -->
    <div class="contact-form">
      <h2 class="form-title">CONTÁCTENOS</h2>
      <p class="form-subtitle">
        Por favor, complete el formulario para enviarnos su consulta o comentario.
      </p>

      <form [formGroup]="form" (ngSubmit)="onSubmit()">
        <!-- Email -->
        <label for="email">Correo Electrónico</label>
        <input 
          type="email" 
          id="email" 
          formControlName="email" 
          placeholder="tu@email.com"
          [class.error]="form.controls['email'].touched && form.controls['email'].invalid"
        />
        <small *ngIf="form.controls['email'].touched && form.controls['email'].invalid" class="error-message">
          Por favor ingrese un email válido
        </small>

        <!-- Asunto -->
        <label for="subject">Asunto</label>
        <input 
          type="text" 
          id="subject" 
          formControlName="subject" 
          placeholder="Escriba el asunto de su consulta"
          [class.error]="form.controls['subject'].touched && form.controls['subject'].invalid"
        />
        <small *ngIf="form.controls['subject'].touched && form.controls['subject'].invalid" class="error-message">
          El asunto debe tener al menos 3 caracteres
        </small>

        <!-- Mensaje -->
        <label for="message">Mensaje</label>
        <textarea 
          id="message" 
          formControlName="message" 
          rows="5" 
          placeholder="Escriba su mensaje..."
          [class.error]="form.controls['message'].touched && form.controls['message'].invalid"
        ></textarea>
        <small *ngIf="form.controls['message'].touched && form.controls['message'].invalid" class="error-message">
          El mensaje debe tener al menos 10 caracteres
        </small>

        <!-- Botón -->
        <button 
          type="submit" 
          class="btn-send" 
          [disabled]="form.invalid || sending"
          [class.sending]="sending"
        >
          <span *ngIf="!sending">Enviar Mensaje</span>
          <span *ngIf="sending">Enviando...</span>
        </button>

        <!-- Estados de envío -->
        <div *ngIf="sent" class="status-message success">
          <ion-icon name="checkmark-circle" aria-hidden="true"></ion-icon>
          <span>¡Mensaje enviado correctamente! Nos pondremos en contacto contigo pronto.</span>
        </div>
        
        <div *ngIf="error" class="status-message error">
          <ion-icon name="alert-circle" aria-hidden="true"></ion-icon>
          <span>Error al enviar el mensaje. Por favor intenta nuevamente.</span>
        </div>
      </form>
    </div>

    <!-- Lado derecho: imagen -->
    <div class="contact-image">
      <img src="/assets/prestige/girl3.jpeg" alt="Contacto" />
    </div>
  </section>

  <app-footer></app-footer>
</ion-content>
